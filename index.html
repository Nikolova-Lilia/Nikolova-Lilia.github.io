<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Lilia Nikolova — Interactive Portfolio</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="wrap">
    <h1 class="title">Lilia Nenkova Nikolova</h1>
    <p class="subtitle">Software Developer Student @ 42 Prague</p>
    <nav class="btns">
      <a class="btn" href="lilia_nikolova_cv.pdf" download>Download CV (PDF)</a>
      <a class="btn" href="https://www.linkedin.com/in/lilia-nikolova-747845201/" target="_blank" rel="noopener">LinkedIn</a>
      <a class="btn" href="https://github.com/Nikolova-Lilia" target="_blank" rel="noopener">GitHub</a>
    </nav>
  </header>

  <main class="wrap">
    <section class="showcase">
      <div class="copy">
        <h2>Interactive 3D Preview</h2>
        <p>Hover / drag to rotate the cube. I reduced the text size and expanded the canvas so the 3D demo is the star of the page.</p>
        <p><small>Built with Three.js.</small></p>
      </div>
      <div class="canvas-wrap">
        <div id="cube-app" class="cube-app" aria-label="3D scene" tabindex="0"></div>
        <div class="hint">Drag to rotate • Pinch/scroll to zoom</div>
      </div>
    </section>

    <section class="cards">
      <h2>Projects</h2>
      <div class="grid">
        <article class="card">
          <h3>Docker & Web Server (School)</h3>
          <p>Building containers and a minimal web server; focus on networking, security, and deployment.</p>
        </article>
        <article class="card">
          <h3>Exam / Training Platform (Side)</h3>
          <p>A platform for practicing and assessing programming skills with version-controlled content.</p>
        </article>
        <article class="card">
          <h3>Upcoming: Diabetes Calendar</h3>
          <p>Personal health tracker concept focusing on clarity and daily usability.</p>
        </article>
        <article class="card">
          <h3>Upcoming: Skyscraper 3D Visualization</h3>
          <p>Exploring geometry generation and interaction patterns for architectural visualization.</p>
        </article>
      </div>
    </section>
  </main>

  <footer class="wrap center">
    <small>© <span id="year"></span> Lilia Nikolova</small>
  </footer>

  <script type="module">
    import * as THREE from 'https://unpkg.com/three@0.159.0/build/three.module.js';

    const app = document.getElementById('cube-app');

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(60, 1, 0.1, 100);
    camera.position.set(0, 1.2, 5);

    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, 2));
    renderer.shadowMap.enabled = true;
    app.appendChild(renderer.domElement);

    scene.add(new THREE.AmbientLight(0xffffff, 0.35));
    const key = new THREE.DirectionalLight(0xffffff, 1.0);
    key.position.set(3, 5, 4);
    key.castShadow = true;
    key.shadow.mapSize.set(1024, 1024);
    scene.add(key);
    const rim = new THREE.DirectionalLight(0x88ff88, 0.25);
    rim.position.set(-3, 2, -4);
    scene.add(rim);

    const floor = new THREE.Mesh(
      new THREE.PlaneGeometry(50, 50),
      new THREE.ShadowMaterial({ opacity: 0.18 })
    );
    floor.rotation.x = -Math.PI / 2;
    floor.position.y = -1.2;
    floor.receiveShadow = true;
    scene.add(floor);

    const cube = new THREE.Mesh(
      new THREE.BoxGeometry(2, 2, 2),
      new THREE.MeshStandardMaterial({ color: 0x0b3d0b, roughness: 0.6, metalness: 0.05 })
    );
    cube.castShadow = true;
    scene.add(cube);

    // Pointer rotate + inertia
    let dragging = false, prevX = 0, prevY = 0, vx = 0, vy = 0;
    function onPointerDown(e){ dragging = true; const p = e.touches ? e.touches[0] : e; prevX = p.clientX; prevY = p.clientY; app.style.cursor='grabbing'; }
    function onPointerUp(){ dragging = false; app.style.cursor='grab'; }
    function onPointerMove(e){
      const p = e.touches ? e.touches[0] : e;
      if (!dragging){ prevX = p.clientX; prevY = p.clientY; return; }
      vx = (p.clientX - prevX) * 0.003;
      vy = (p.clientY - prevY) * 0.003;
      prevX = p.clientX; prevY = p.clientY;
    }
    app.addEventListener('mousedown', onPointerDown);
    window.addEventListener('mouseup', onPointerUp);
    window.addEventListener('mousemove', onPointerMove);
    app.addEventListener('touchstart', onPointerDown, {passive:true});
    window.addEventListener('touchend', onPointerUp, {passive:true});
    window.addEventListener('touchmove', onPointerMove, {passive:true});

    // Zoom (wheel/pinch)
    function onWheel(e){
      e.preventDefault();
      camera.position.z = Math.min(10, Math.max(2.5, camera.position.z + (e.deltaY>0 ? 0.3 : -0.3)));
    }
    app.addEventListener('wheel', onWheel, {passive:false});

    function resize(){
      const w = app.clientWidth || 700;
      const h = app.clientHeight || 520;
      renderer.setSize(w, h, false);
      camera.aspect = w/h;
      camera.updateProjectionMatrix();
    }
    const ro = new ResizeObserver(resize);
    ro.observe(app);
    window.addEventListener('resize', resize);
    resize();

    function animate(){
      requestAnimationFrame(animate);
      cube.rotation.y += vx; cube.rotation.x += vy;
      vx *= 0.93; vy *= 0.93;
      renderer.render(scene, camera);
    }
    animate();

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
